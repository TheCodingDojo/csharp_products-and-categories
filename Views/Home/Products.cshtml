@{
    ViewData["Title"] = "Products";
}

@* This model is for the <form> creating a Product, the data to be displayed is in the ViewBag *@
@model Product

<div class="container w-75">
  <div class="row">

    <div class="col-md">
      <h2 class="text-center mb-3">New Product</h2>

      @* <form href="products/create" method="POST"> *@
      <form
        asp-controller="Home"
        asp-action="CreateProduct"
        method="POST"
        class="shadow p-3 mb-5 rounded"
      >
        <div class="form-group">
          <label asp-for="Name"></label>
          <span asp-validation-for="Name" class="text-danger font-weight-bold">
          </span>
          <input class="form-control" asp-for="Name">
        </div>

        <div class="form-group">
          <label asp-for="Description"></label>
          <span asp-validation-for="Description" class="text-danger font-weight-bold">
          </span>
          <input class="form-control" asp-for="Description">
        </div>

        <div class="form-group">
          <label asp-for="Price"></label>
          <span asp-validation-for="Price" class="text-danger font-weight-bold">
          </span>
          <input class="form-control" asp-for="Price" type="number" step="0.1">
        </div>
        
        <button class="btn btn-success">Create</button>
      </form>
    </div>
    <div class="col-md text-center">
      <h2 class="mb-3">Existing Products</h2>

      @foreach (Product prod in ViewBag.Products)
      {
          @* 
            asp-route-routeParameterName
            routeParamterName can be named anything just like a function's parameters, but this name
            must be used in the controller
          *@
          <a
            asp-controller="Home"
            asp-action="Product"
            asp-route-productId="@prod.ProductId"
            class="d-block"
          >
            @prod.Name
          </a>
      }
    </div>
  </div>
</div>